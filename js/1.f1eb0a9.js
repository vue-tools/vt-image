webpackJsonp([1],{3:function(s,t){"use strict";function a(){var s,t;return s=document.createElement("canvas"),t=s.getContext&&s.getContext("2d"),!!t&&(s.width=s.height=1,s.toDataURL("image/webp",.01).indexOf("image/webp")!=-1)}function e(s){return/^(\/\/|https?)/.test(s)}Object.defineProperty(t,"__esModule",{value:!0});var n=a();t.default={props:{lazy:{type:Boolean,default:!1},lazySrc:{type:String,default:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"},visibleRange:{type:[String,Number],default:window.innerHeight,validator:function(s){return s>50}},src:{type:String,required:!0}},data:function(){return{loading:this.lazy,path:this._getPath(n)}},computed:{realPath:function(){return this.loading?this.lazySrc:this.path}},methods:{_inVisibleArea:function(s,t){var a=void 0,e=void 0,n=void 0;return n=this.visibleRange,e=s.offsetTop,a=s.clientHeight,e-n<t&&t<e+n+a},lazyHandler:function(s){return!!this.lazy&&void(this._inVisibleArea(this.$el,s)&&this._lozyLoad())},_lozyLoad:function(){var s=this,t=void 0;t=new Image,t.src=this.path,t.onload=function(t){s.loading=!1}},_getPath:function(s){return e(this.src)?this.src:s?this.src+".webp":this.src}}}},4:function(s,t,a){t=s.exports=a(5)(),t.push([s.id,"",""])},5:function(s,t){s.exports=function(){var s=[];return s.toString=function(){for(var s=[],t=0;t<this.length;t++){var a=this[t];a[2]?s.push("@media "+a[2]+"{"+a[1]+"}"):s.push(a[1])}return s.join("")},s.i=function(t,a){"string"==typeof t&&(t=[[null,t,""]]);for(var e={},n=0;n<this.length;n++){var l=this[n][0];"number"==typeof l&&(e[l]=!0)}for(n=0;n<t.length;n++){var i=t[n];"number"==typeof i[0]&&e[i[0]]||(a&&!i[2]?i[2]=a:a&&(i[2]="("+i[2]+") and ("+a+")"),s.push(i))}},s}},6:function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("img",{staticClass:"vt-image",attrs:{src:s.realPath}})},staticRenderFns:[]}},7:function(s,t,a){function e(s){for(var t=0;t<s.length;t++){var a=s[t],e=p[a.id];if(e){e.refs++;for(var n=0;n<e.parts.length;n++)e.parts[n](a.parts[n]);for(;n<a.parts.length;n++)e.parts.push(l(a.parts[n]));e.parts.length>a.parts.length&&(e.parts.length=a.parts.length)}else{for(var i=[],n=0;n<a.parts.length;n++)i.push(l(a.parts[n]));p[a.id]={id:a.id,refs:1,parts:i}}}}function n(){var s=document.createElement("style");return s.type="text/css",o.appendChild(s),s}function l(s){var t,a,e=document.querySelector('style[data-vue-ssr-id~="'+s.id+'"]');if(e){if(u)return d;e.parentNode.removeChild(e)}if(m){var l=h++;e=_||(_=n()),t=i.bind(null,e,l,!1),a=i.bind(null,e,l,!0)}else e=n(),t=r.bind(null,e),a=function(){e.parentNode.removeChild(e)};return t(s),function(e){if(e){if(e.css===s.css&&e.media===s.media&&e.sourceMap===s.sourceMap)return;t(s=e)}else a()}}function i(s,t,a,e){var n=a?"":e.css;if(s.styleSheet)s.styleSheet.cssText=f(t,n);else{var l=document.createTextNode(n),i=s.childNodes;i[t]&&s.removeChild(i[t]),i.length?s.insertBefore(l,i[t]):s.appendChild(l)}}function r(s,t){var a=t.css,e=t.media,n=t.sourceMap;if(e&&s.setAttribute("media",e),n&&(a+="\n/*# sourceURL="+n.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),s.styleSheet)s.styleSheet.cssText=a;else{for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(document.createTextNode(a))}}var v="undefined"!=typeof document,c=a(8),p={},o=v&&(document.head||document.getElementsByTagName("head")[0]),_=null,h=0,u=!1,d=function(){},m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());s.exports=function(s,t,a){u=a;var n=c(s,t);return e(n),function(t){for(var a=[],l=0;l<n.length;l++){var i=n[l],r=p[i.id];r.refs--,a.push(r)}t?(n=c(s,t),e(n)):n=[];for(var l=0;l<a.length;l++){var r=a[l];if(0===r.refs){for(var v=0;v<r.parts.length;v++)r.parts[v]();delete p[r.id]}}}};var f=function(){var s=[];return function(t,a){return s[t]=a,s.filter(Boolean).join("\n")}}()},8:function(s,t){s.exports=function(s,t){for(var a=[],e={},n=0;n<t.length;n++){var l=t[n],i=l[0],r=l[1],v=l[2],c=l[3],p={id:s+":"+n,css:r,media:v,sourceMap:c};e[i]?e[i].parts.push(p):a.push(e[i]={id:i,parts:[p]})}return a}},12:function(s,t,a){var e=a(4);"string"==typeof e&&(e=[[s.id,e,""]]),e.locals&&(s.exports=e.locals);a(7)("a41b38f0",e,!0)},13:function(s,t,a){var e,n;a(12),e=a(3);var l=a(6);n=e=e||{},"object"!=typeof e.default&&"function"!=typeof e.default||(n=e=e.default),"function"==typeof n&&(n=n.options),n.render=l.render,n.staticRenderFns=l.staticRenderFns,s.exports=e},38:function(s,t,a){"use strict";function e(s){return s&&s.__esModule?s:{default:s}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(13),l=e(n);t.default={data:function(){return{imgs:[a(80)]}},components:{Images:l.default},mounted:function(){this.lazyLoad(),window.addEventListener("scroll",this.lazyLoad.bind(this),!!this.supportPassiveEvents()&&{passive:!0})},methods:{lazyLoad:function(){var s=this;window.requestAnimationFrame=window.requestAnimationFrame||function(s){return setTimeout(s,1e3/60)},window.requestAnimationFrame(function(t){s.$refs.image.forEach(function(s){s.lazyHandler(document.body.scrollTop||document.documentElement.scrollTop)})})},supportPassiveEvents:function(){var s=!1;try{var t=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,t)}catch(s){}}}}},40:function(s,t,a){"use strict";function e(s){return s&&s.__esModule?s:{default:s}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(85),l=e(n);t.default={components:{README:l.default}}},74:function(s,t,a){t=s.exports=a(23)(),t.push([s.id,".img{width:100px;height:100px;margin:10px;display:block}",""])},77:function(s,t,a){var e=a(74);"string"==typeof e&&(e=[[s.id,e,""]]);a(24)(e,{});e.locals&&(s.exports=e.locals)},80:function(s,t,a){s.exports=a.p+"img/logo.c2a605f.png"},85:function(s,t,a){var e,n;a(77),e=a(38);var l=a(95);n=e=e||{},"object"!=typeof e.default&&"function"!=typeof e.default||(n=e=e.default),"function"==typeof n&&(n=n.options),n.render=l.render,n.staticRenderFns=l.staticRenderFns,s.exports=e},87:function(s,t,a){var e,n;e=a(40);var l=a(99);n=e=e||{},"object"!=typeof e.default&&"function"!=typeof e.default||(n=e=e.default),"function"==typeof n&&(n=n.options),n.render=l.render,n.staticRenderFns=l.staticRenderFns,s.exports=e},95:function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[a("h1",{attrs:{id:"vt-image"}},[s._v("vt-image")]),s._v(" "),s._m(0),s._v(" "),a("h2",{attrs:{id:"install"}},[s._v("Install")]),s._v(" "),s._m(1),a("h2",{attrs:{id:"usage"}},[s._v("Usage")]),s._v(" "),[s._l(s.imgs,function(s){return a("Images",{ref:"image",refInFor:!0,staticClass:"img",attrs:{src:s}})}),s._v(" "),s._l(s.imgs,function(s){return a("Images",{ref:"image",refInFor:!0,staticClass:"img",attrs:{lazy:"",src:s}})})],s._v(" "),s._m(2)],2)},staticRenderFns:[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("p",[s._v("基于 vue 2 封装出的 Image 组件，重写img，目的支持webp， 优化图片，提高移动端性能。 点击查看"),a("a",{attrs:{href:"https://vue-tools.github.io/vt-image/#/demo"}},[s._v("Demo")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("pre",{staticClass:"lang-javascript"},[a("code",[s._v("npm i vt-"),a("span",{staticClass:"hljs-built_in"},[s._v("image")]),s._v(" -S\n\n"),a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" Images from "),a("span",{staticClass:"hljs-string"},[s._v("'vt-image'")]),s._v("\n\n"),a("span",{staticClass:"hljs-comment"},[s._v("// global install")]),s._v("\nVue.component("),a("span",{staticClass:"hljs-string"},[s._v("'Images'")]),s._v(", Images)\n\n"),a("span",{staticClass:"hljs-comment"},[s._v("// scope install")]),s._v("\n"),a("span",{staticClass:"hljs-keyword"},[s._v("export")]),s._v(" "),a("span",{staticClass:"hljs-built_in"},[s._v("default")]),s._v(" {\n    components: { \n        Images\n    }\n}")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("pre",{staticClass:"lang-example"},[a("code",[a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("style")]),s._v(">")]),a("span",{staticClass:"css"},[s._v("\n"),a("span",{staticClass:"hljs-selector-class"},[s._v(".img")]),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("width")]),s._v(": "),a("span",{staticClass:"hljs-number"},[s._v("100px")]),s._v(";\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("height")]),s._v(": "),a("span",{staticClass:"hljs-number"},[s._v("100px")]),s._v(";\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("margin")]),s._v(":"),a("span",{staticClass:"hljs-number"},[s._v("10px")]),s._v("; \n    "),a("span",{staticClass:"hljs-attribute"},[s._v("display")]),s._v(": block;\n"),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n")]),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("style")]),s._v(">")]),s._v("\n"),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("template")]),s._v(">")]),s._v("\n    "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("Images")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("ref")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"image"')]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("v-for")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"img in imgs"')]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("class")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"img"')]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v(":src")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"img"')]),s._v(" />")]),s._v("\n    "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("Images")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("ref")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"image"')]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("v-for")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"img in imgs"')]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("class")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"img"')]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("lazy")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v(":src")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"img"')]),s._v(" />")]),s._v(" \n"),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("template")]),s._v(">")]),s._v("\n"),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("script")]),s._v(">")]),a("span",{staticClass:"javascript"},[s._v("\n    "),a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" Images "),a("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),a("span",{staticClass:"hljs-string"},[s._v("'vt-image'")]),s._v("\n    "),a("span",{staticClass:"hljs-keyword"},[s._v("export")]),s._v(" "),a("span",{staticClass:"hljs-keyword"},[s._v("default")]),s._v(" "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n        data()"),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n            "),a("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                "),a("span",{staticClass:"hljs-attr"},[s._v("imgs")]),s._v(": [\n                    "),a("span",{staticClass:"hljs-built_in"},[s._v("require")]),s._v("("),a("span",{staticClass:"hljs-string"},[s._v("'assets/logo.png'")]),s._v(")\n                ]\n            "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n        "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(",\n        "),a("span",{staticClass:"hljs-attr"},[s._v("components")]),s._v(": "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n            Images\n        "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(",\n        mounted()"),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n             "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".lazyLoad()\n             "),a("span",{staticClass:"hljs-built_in"},[s._v("window")]),s._v(".addEventListener("),a("span",{staticClass:"hljs-string"},[s._v("'scroll'")]),s._v(", "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".lazyLoad.bind("),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v("), "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".supportPassiveEvents() ? "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),a("span",{staticClass:"hljs-attr"},[s._v("passive")]),s._v(": "),a("span",{staticClass:"hljs-literal"},[s._v("true")]),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(" : "),a("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(")\n        "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(",\n        "),a("span",{staticClass:"hljs-attr"},[s._v("methods")]),s._v(": "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n            lazyLoad() "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                "),a("span",{staticClass:"hljs-built_in"},[s._v("window")]),s._v(".requestAnimationFrame = "),a("span",{staticClass:"hljs-built_in"},[s._v("window")]),s._v(".requestAnimationFrame || ("),a("span",{staticClass:"hljs-function"},[a("span",{staticClass:"hljs-params"},[s._v("fn")]),s._v(" =>")]),s._v(" setTimeout(fn, "),a("span",{staticClass:"hljs-number"},[s._v("1000")]),s._v(" / "),a("span",{staticClass:"hljs-number"},[s._v("60")]),s._v("))\n                "),a("span",{staticClass:"hljs-built_in"},[s._v("window")]),s._v(".requestAnimationFrame("),a("span",{staticClass:"hljs-function"},[a("span",{staticClass:"hljs-params"},[s._v("_")]),s._v(" =>")]),s._v(" "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                    "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".$refs.image.forEach("),a("span",{staticClass:"hljs-function"},[a("span",{staticClass:"hljs-params"},[s._v("img")]),s._v(" =>")]),s._v(" "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                        img.lazyHandler("),a("span",{staticClass:"hljs-built_in"},[s._v("document")]),s._v(".body.scrollTop || "),a("span",{staticClass:"hljs-built_in"},[s._v("document")]),s._v(".documentElement.scrollTop)\n                    "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(")\n                "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(")\n            "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(",\n            supportPassiveEvents()"),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                "),a("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" supportsPassiveOption = "),a("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v("\n                "),a("span",{staticClass:"hljs-keyword"},[s._v("try")]),s._v(" "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                    "),a("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" opts = "),a("span",{staticClass:"hljs-built_in"},[s._v("Object")]),s._v(".defineProperty("),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(", "),a("span",{staticClass:"hljs-string"},[s._v("'passive'")]),s._v(", "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                        "),a("span",{staticClass:"hljs-attr"},[s._v("get")]),s._v(": "),a("span",{staticClass:"hljs-function"},[a("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),a("span",{staticClass:"hljs-params"}),s._v(") ")]),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                            supportsPassiveOption = "),a("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v("\n                        "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n                    "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(")\n                    "),a("span",{staticClass:"hljs-built_in"},[s._v("window")]),s._v(".addEventListener("),a("span",{staticClass:"hljs-string"},[s._v("'test'")]),s._v(", "),a("span",{staticClass:"hljs-literal"},[s._v("null")]),s._v(", opts)\n                "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(" "),a("span",{staticClass:"hljs-keyword"},[s._v("catch")]),s._v(" (e) "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n            "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n        "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n    "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n")]),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("script")]),s._v(">")])])])}]}},99:function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("Layout",[a("README")],1)},staticRenderFns:[]}}});