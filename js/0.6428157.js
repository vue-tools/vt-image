webpackJsonp([0],{4:function(s,t){"use strict";function a(){var s,t;return s=document.createElement("canvas"),t=s.getContext&&s.getContext("2d"),!!t&&(s.width=s.height=1,s.toDataURL("image/webp",.01).indexOf("image/webp")!=-1)}function n(s){return/^(\/\/|https?)/.test(s)}Object.defineProperty(t,"__esModule",{value:!0});var e=a();t.default={props:{lazy:{type:Boolean,default:!1},lazySrc:{type:String,default:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"},visibleRange:{type:[String,Number],default:window.innerHeight,validator:function(s){return s>50}},src:{type:String,required:!0}},data:function(){return{loading:this.lazy,path:this._getPath(e)}},computed:{realPath:function(){return this.loading?this.lazySrc:this.path}},methods:{_inVisibleArea:function(s,t){var a=void 0,n=void 0,e=void 0;return e=this.visibleRange,n=s.offsetTop,a=s.clientHeight,n-e<t&&t<n+e+a},lazyHandler:function(s){return!!this.lazy&&void(this._inVisibleArea(this.$el,s)&&this._lozyLoad())},_lozyLoad:function(){var s=this,t=void 0;t=new Image,t.src=this.path,t.onload=function(t){s.loading=!1}},_getPath:function(s){return n(this.src)?this.src:s?this.src+".webp":this.src}}}},8:function(s,t,a){t=s.exports=a(20)(),t.push([s.id,"",""])},9:function(s,t,a){var n=a(8);"string"==typeof n&&(n=[[s.id,n,""]]),n.locals&&(s.exports=n.locals);a(24)("a41b38f0",n,!0)},10:function(s,t,a){var n,e;a(9),n=a(4);var l=a(11);e=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(e=n=n.default),"function"==typeof e&&(e=e.options),e.render=l.render,e.staticRenderFns=l.staticRenderFns,s.exports=n},11:function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("img",{staticClass:"vt-image",attrs:{src:s.realPath}})},staticRenderFns:[]}},31:function(s,t,a){"use strict";function n(s){return s&&s.__esModule?s:{default:s}}Object.defineProperty(t,"__esModule",{value:!0});var e=a(10),l=n(e),i=void 0,v=void 0;for(i=[],v=0;++v<6;)i[v-1]=a(100)("./cat0"+v+".jpg");t.default={data:function(){return{imgs:i}},components:{Images:l.default},mounted:function(){this.lazyLoad(),window.addEventListener("scroll",this.lazyLoad.bind(this),!!this.supportPassiveEvents()&&{passive:!0})},methods:{lazyLoad:function(){var s=this;window.requestAnimationFrame=window.requestAnimationFrame||function(s){return setTimeout(s,1e3/60)},window.requestAnimationFrame(function(t){s.$refs.image.forEach(function(s){s.lazyHandler(document.body.scrollTop||document.documentElement.scrollTop)})})},supportPassiveEvents:function(){var s=!1;try{var t=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,t)}catch(s){}}}}},33:function(s,t,a){"use strict";function n(s){return s&&s.__esModule?s:{default:s}}Object.defineProperty(t,"__esModule",{value:!0});var e=a(87),l=n(e);t.default={components:{Demo:l.default}}},65:function(s,t,a){var n=a(79);"string"==typeof n&&(n=[[s.id,n,""]]);a(22)(n,{});n.locals&&(s.exports=n.locals)},68:function(s,t,a){s.exports=a.p+"img/cat01.1847d2d.jpg"},69:function(s,t,a){s.exports=a.p+"img/cat02.05a0d89.jpg"},70:function(s,t,a){s.exports=a.p+"img/cat03.e29e9b4.jpg"},71:function(s,t,a){s.exports=a.p+"img/cat04.7454942.jpg"},72:function(s,t,a){s.exports=a.p+"img/cat05.2ac39a2.jpg"},79:function(s,t,a){t=s.exports=a(21)(),t.push([s.id,".vue-docs{width:100%}.wrapper{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex-direction:column;flex-direction:column}.message{margin-top:100px;margin-bottom:400px;font-size:30px}.img{width:186px;min-height:100px;text-align:center;margin:10px;display:block;transition:height .5s ease-in}",""])},87:function(s,t,a){var n,e;a(65),n=a(31);var l=a(96);e=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(e=n=n.default),"function"==typeof e&&(e=e.options),e.render=l.render,e.staticRenderFns=l.staticRenderFns,s.exports=n},89:function(s,t,a){var n,e;n=a(33);var l=a(93);e=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(e=n=n.default),"function"==typeof e&&(e=e.options),e.render=l.render,e.staticRenderFns=l.staticRenderFns,s.exports=n},93:function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("Layout",[a("Demo")],1)},staticRenderFns:[]}},96:function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",[[a("div",{staticClass:"wrapper"},[a("h3",{staticClass:"message"},[s._v("vt-image懒加载图片demo")]),s._v(" "),s._l(s.imgs,function(s){return a("Images",{ref:"image",refInFor:!0,staticClass:"img",attrs:{visibleRange:"600",lazy:"",src:s}})})],2)],s._v(" "),s._m(0)],2)},staticRenderFns:[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("pre",{staticClass:"lang-example"},[a("code",[a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("style")]),s._v(">")]),a("span",{staticClass:"css"},[s._v("\n"),a("span",{staticClass:"hljs-selector-class"},[s._v(".vue-docs")]),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("width")]),s._v(": "),a("span",{staticClass:"hljs-number"},[s._v("100%")]),s._v(";\n"),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n"),a("span",{staticClass:"hljs-selector-class"},[s._v(".wrapper")]),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("display")]),s._v(": flex;\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("justify-content")]),s._v(": center;\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("align-items")]),s._v(": center;\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("flex-direction")]),s._v(": column;\n"),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n"),a("span",{staticClass:"hljs-selector-class"},[s._v(".message")]),s._v(" "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("margin-top")]),s._v(": "),a("span",{staticClass:"hljs-number"},[s._v("100px")]),s._v(";\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("margin-bottom")]),s._v(": "),a("span",{staticClass:"hljs-number"},[s._v("400px")]),s._v(";\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("font-size")]),s._v(": "),a("span",{staticClass:"hljs-number"},[s._v("30px")]),s._v(";\n"),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n"),a("span",{staticClass:"hljs-selector-class"},[s._v(".img")]),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("width")]),s._v(": "),a("span",{staticClass:"hljs-number"},[s._v("186px")]),s._v(";\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("min-height")]),s._v(": "),a("span",{staticClass:"hljs-number"},[s._v("100px")]),s._v(";\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("text-align")]),s._v(": center;\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("margin")]),s._v(":"),a("span",{staticClass:"hljs-number"},[s._v("10px")]),s._v("; \n    "),a("span",{staticClass:"hljs-attribute"},[s._v("display")]),s._v(": block;\n    "),a("span",{staticClass:"hljs-attribute"},[s._v("transition")]),s._v(": height ease-in ."),a("span",{staticClass:"hljs-number"},[s._v("5s")]),s._v(";\n"),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n")]),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("style")]),s._v(">")]),s._v("\n"),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("template")]),s._v(">")]),s._v("\n    "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("div")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("class")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"wrapper"')]),s._v(">")]),s._v("\n        "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("h3")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("class")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"message"')]),s._v(">")]),s._v("vt-image懒加载图片demo"),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("h3")]),s._v(">")]),s._v("\n        "),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("Images")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("ref")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"image"')]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("visibleRange")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"600"')]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("v-for")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"img in imgs"')]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("class")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"img"')]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v("lazy")]),s._v(" "),a("span",{staticClass:"hljs-attr"},[s._v(":src")]),s._v("="),a("span",{staticClass:"hljs-string"},[s._v('"img"')]),s._v(" />")]),s._v(" \n    "),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("div")]),s._v(">")]),s._v("\n"),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("template")]),s._v(">")]),s._v("\n"),a("span",{staticClass:"hljs-tag"},[s._v("<"),a("span",{staticClass:"hljs-name"},[s._v("script")]),s._v(">")]),a("span",{staticClass:"javascript"},[s._v("\n    "),a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" Images "),a("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),a("span",{staticClass:"hljs-string"},[s._v("'vt-image'")]),s._v("\n\n    "),a("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" imgs, count\n\n    imgs = []\n    count = "),a("span",{staticClass:"hljs-number"},[s._v("0")]),s._v("\n\n    "),a("span",{staticClass:"hljs-keyword"},[s._v("while")]),s._v("(++count < "),a("span",{staticClass:"hljs-number"},[s._v("6")]),s._v(") "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n        imgs[count - "),a("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("] = "),a("span",{staticClass:"hljs-built_in"},[s._v("require")]),s._v("("),a("span",{staticClass:"hljs-string"},[s._v("`assets/cat0"),a("span",{staticClass:"hljs-subst"},[s._v("$"),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("count"),a("span",{staticClass:"hljs-template-variable"},[s._v("}")])]),s._v(".jpg`")]),s._v(")\n    "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n\n    "),a("span",{staticClass:"hljs-keyword"},[s._v("export")]),s._v(" "),a("span",{staticClass:"hljs-keyword"},[s._v("default")]),s._v(" "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n        data()"),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n            "),a("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                imgs\n            "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n        "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(",\n        "),a("span",{staticClass:"hljs-attr"},[s._v("components")]),s._v(": "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n            Images\n        "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(",\n        mounted()"),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n             "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".lazyLoad()\n             "),a("span",{staticClass:"hljs-built_in"},[s._v("window")]),s._v(".addEventListener("),a("span",{staticClass:"hljs-string"},[s._v("'scroll'")]),s._v(", "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".lazyLoad.bind("),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v("), "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".supportPassiveEvents() ? "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),a("span",{staticClass:"hljs-attr"},[s._v("passive")]),s._v(": "),a("span",{staticClass:"hljs-literal"},[s._v("true")]),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(" : "),a("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(")        \n        "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(",\n        "),a("span",{staticClass:"hljs-attr"},[s._v("methods")]),s._v(": "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n            lazyLoad() "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                "),a("span",{staticClass:"hljs-built_in"},[s._v("window")]),s._v(".requestAnimationFrame = "),a("span",{staticClass:"hljs-built_in"},[s._v("window")]),s._v(".requestAnimationFrame || ("),a("span",{staticClass:"hljs-function"},[a("span",{staticClass:"hljs-params"},[s._v("fn")]),s._v(" =>")]),s._v(" setTimeout(fn, "),a("span",{staticClass:"hljs-number"},[s._v("1000")]),s._v(" / "),a("span",{staticClass:"hljs-number"},[s._v("60")]),s._v("))\n                "),a("span",{staticClass:"hljs-built_in"},[s._v("window")]),s._v(".requestAnimationFrame("),a("span",{staticClass:"hljs-function"},[a("span",{staticClass:"hljs-params"},[s._v("_")]),s._v(" =>")]),s._v(" "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                    "),a("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".$refs.image.forEach("),a("span",{staticClass:"hljs-function"},[a("span",{staticClass:"hljs-params"},[s._v("img")]),s._v(" =>")]),s._v(" "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                        img.lazyHandler("),a("span",{staticClass:"hljs-built_in"},[s._v("document")]),s._v(".body.scrollTop || "),a("span",{staticClass:"hljs-built_in"},[s._v("document")]),s._v(".documentElement.scrollTop)\n                    "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(")\n                "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(")\n            "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(",\n            supportPassiveEvents()"),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                "),a("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" supportsPassiveOption = "),a("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v("\n                "),a("span",{staticClass:"hljs-keyword"},[s._v("try")]),s._v(" "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                    "),a("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" opts = "),a("span",{staticClass:"hljs-built_in"},[s._v("Object")]),s._v(".defineProperty("),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(", "),a("span",{staticClass:"hljs-string"},[s._v("'passive'")]),s._v(", "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                        "),a("span",{staticClass:"hljs-attr"},[s._v("get")]),s._v(": "),a("span",{staticClass:"hljs-function"},[a("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),a("span",{staticClass:"hljs-params"}),s._v(") ")]),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),s._v("\n                            supportsPassiveOption = "),a("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v("\n                        "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n                    "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(")\n                    "),a("span",{staticClass:"hljs-built_in"},[s._v("window")]),s._v(".addEventListener("),a("span",{staticClass:"hljs-string"},[s._v("'test'")]),s._v(", "),a("span",{staticClass:"hljs-literal"},[s._v("null")]),s._v(", opts)\n                "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v(" "),a("span",{staticClass:"hljs-keyword"},[s._v("catch")]),s._v(" (e) "),a("span",{staticClass:"hljs-template-variable"},[s._v("{")]),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n            "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n        "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n    "),a("span",{staticClass:"hljs-template-variable"},[s._v("}")]),s._v("\n")]),a("span",{staticClass:"hljs-tag"},[s._v("</"),a("span",{staticClass:"hljs-name"},[s._v("script")]),s._v(">")])])])}]}},100:function(s,t,a){function n(s){return a(e(s))}function e(s){return l[s]||function(){throw new Error("Cannot find module '"+s+"'.")}()}var l={"./cat01.jpg":68,"./cat02.jpg":69,"./cat03.jpg":70,"./cat04.jpg":71,"./cat05.jpg":72};n.keys=function(){return Object.keys(l)},n.resolve=e,s.exports=n,n.id=100}});